# ðŸ—„ï¸ Ð¡Ñ…ÐµÐ¼Ð° Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…

## Ð’Ð¸Ð·ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑÐ²ÑÐ·ÐµÐ¹ Ð¼ÐµÐ¶Ð´Ñƒ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°Ð¼Ð¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      USERS          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)             â”‚
â”‚ email               â”‚
â”‚ username            â”‚
â”‚ password            â”‚
â”‚ role                â”‚â”€â”€â”
â”‚ firstName           â”‚  â”‚
â”‚ lastName            â”‚  â”‚
â”‚ isActive            â”‚  â”‚
â”‚ createdAt           â”‚  â”‚
â”‚ updatedAt           â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                         â”‚
                         â”‚ 1:N
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                â”‚
         â–¼                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚   TEST_RESULTS      â”‚                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚ id (PK)             â”‚                  â”‚
â”‚ userId (FK)         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ testId (FK)         â”‚â”€â”€â”€â”€â”
â”‚ status              â”‚    â”‚
â”‚ score               â”‚    â”‚
â”‚ totalQuestions      â”‚    â”‚
â”‚ percentage          â”‚    â”‚
â”‚ isSaved             â”‚    â”‚
â”‚ timeSpent           â”‚    â”‚
â”‚ interpretation      â”‚    â”‚
â”‚ createdAt           â”‚    â”‚
â”‚ updatedAt           â”‚    â”‚
â”‚ completedAt         â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
         â”‚                 â”‚
         â”‚ 1:N             â”‚ N:1
         â”‚                 â”‚
         â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ANSWERS        â”‚  â”‚       TESTS         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)             â”‚  â”‚ id (PK)             â”‚
â”‚ testResultId (FK)   â”‚  â”‚ name                â”‚
â”‚ questionId (FK)     â”‚â”€â”â”‚ displayName         â”‚
â”‚ selectedAnswer      â”‚ â”‚â”‚ description         â”‚
â”‚ isCorrect           â”‚ â”‚â”‚ methodicalRecomm... â”‚
â”‚ createdAt           â”‚ â”‚â”‚ isActive            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚ totalQuestions      â”‚
                        â”‚â”‚ timeLimit           â”‚
                        â”‚â”‚ createdAt           â”‚
                        â”‚â”‚ updatedAt           â”‚
                        â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚         â”‚
                        â”‚         â”‚ 1:N
                        â”‚         â”‚
                        â”‚         â–¼
                        â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚â”‚    QUESTIONS        â”‚
                        â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                        â”‚â”‚ id (PK)             â”‚
                        â””â”‚ testId (FK)         â”‚
                         â”‚ questionNumber      â”‚
                         â”‚ imagePath           â”‚
                         â”‚ questionText        â”‚
                         â”‚ numberOfOptions     â”‚
                         â”‚ correctAnswer       â”‚
                         â”‚ createdAt           â”‚
                         â”‚ updatedAt           â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†

### 1. ðŸ‘¥ USERS (ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸)
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ**: Ð¥Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ð¾ Ð²ÑÐµÑ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÑ… ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹

**Ð Ð¾Ð»Ð¸**:
- `user` - ÐžÐ±Ñ‹Ñ‡Ð½Ñ‹Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ (ÑÐ¾Ð·Ð´Ð°ÐµÑ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸ÑŽ)
- `psychologist` - ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³ (ÑÐ¾Ð·Ð´Ð°ÐµÑ‚ÑÑ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ)
- `admin` - ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€ (ÑÐ¾Ð·Ð´Ð°ÐµÑ‚ÑÑ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ)

**ÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ð¿Ð¾Ð»Ñ**:
- `email` - Ð£Ð½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ email (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð²Ñ…Ð¾Ð´Ð°)
- `username` - Ð£Ð½Ð¸ÐºÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
- `password` - Ð¥ÐµÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ (bcrypt)
- `isActive` - Ð¤Ð»Ð°Ð³ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ (Ð°Ð´Ð¼Ð¸Ð½ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ)

---

### 2. ðŸ“ TESTS (ÐœÐ°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ñ‹ Ñ‚ÐµÑÑ‚Ð¾Ð²)
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ**: Ð¥Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ð¾ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ‚ÐµÑÑ‚Ð°Ñ…

**ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸**:
- `name` - Ð ÐµÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ (Ð²Ð¸Ð´Ð½Ð¾ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ñƒ Ð¸ Ð°Ð´Ð¼Ð¸Ð½Ñƒ)
- `displayName` - ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÐ¼Ð¾Ðµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð´Ð»Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, "Ð¢ÐµÑÑ‚ 1")
- `methodicalRecommendations` - ÐœÐµÑ‚Ð¾Ð´Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¾Ð²
- `timeLimit` - ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð² Ð¼Ð¸Ð½ÑƒÑ‚Ð°Ñ… (0 = Ð±ÐµÐ· Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ)

**Ð¡Ð²ÑÐ·Ð¸**:
- 1:N Ñ QUESTIONS (Ð¾Ð´Ð¸Ð½ Ñ‚ÐµÑÑ‚ - Ð¼Ð½Ð¾Ð³Ð¾ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð²)
- 1:N Ñ TEST_RESULTS (Ð¾Ð´Ð¸Ð½ Ñ‚ÐµÑÑ‚ - Ð¼Ð½Ð¾Ð³Ð¾ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²)

---

### 3. â“ QUESTIONS (Ð’Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ñ‚ÐµÑÑ‚Ð¾Ð²)
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ**: Ð¥Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ñ‚ÐµÑÑ‚Ð°

**ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸**:
- `imagePath` - ÐŸÑƒÑ‚ÑŒ Ðº Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸ÑŽ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ° (Ð´Ð»Ñ Ð¢ÐµÑÑ‚Ð° Ð Ð°Ð²ÐµÐ½Ð°)
- `questionText` - Ð¢ÐµÐºÑÑ‚Ð¾Ð²Ð¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
- `numberOfOptions` - ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð¾Ð² Ð¾Ñ‚Ð²ÐµÑ‚Ð° (6-8)
- `correctAnswer` - ÐÐ¾Ð¼ÐµÑ€ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚Ð° (1-8)

**Ð¡Ð²ÑÐ·Ð¸**:
- N:1 Ñ TESTS (Ð¼Ð½Ð¾Ð³Ð¾ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð² - Ð¾Ð´Ð¸Ð½ Ñ‚ÐµÑÑ‚)
- 1:N Ñ ANSWERS (Ð¾Ð´Ð¸Ð½ Ð²Ð¾Ð¿Ñ€Ð¾Ñ - Ð¼Ð½Ð¾Ð³Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² Ð¾Ñ‚ Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹)

---

### 4. ðŸ“Š TEST_RESULTS (Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ)
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ**: Ð¥Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ð¿Ñ€Ð¾Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ Ñ‚ÐµÑÑ‚Ð¾Ð²

**Ð¡Ñ‚Ð°Ñ‚ÑƒÑÑ‹**:
- `in_progress` - Ð¢ÐµÑÑ‚ Ð² Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ Ð¿Ñ€Ð¾Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ
- `completed` - Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½
- `abandoned` - Ð¢ÐµÑÑ‚ Ð±Ñ€Ð¾ÑˆÐµÐ½

**ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸**:
- `userId` - ÐœÐ¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ NULL (Ð³Ð¾ÑÑ‚ÐµÐ²Ð¾Ðµ Ð¿Ñ€Ð¾Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ðµ)
- `isSaved` - ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ñ€ÐµÑˆÐ¸Ð» ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚
- `score` - ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ñ… Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²
- `percentage` - ÐŸÑ€Ð¾Ñ†ÐµÐ½Ñ‚ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ñ… Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²
- `timeSpent` - Ð’Ñ€ÐµÐ¼Ñ Ð¿Ñ€Ð¾Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ Ð² ÑÐµÐºÑƒÐ½Ð´Ð°Ñ…
- `interpretation` - JSONB Ð¿Ð¾Ð»Ðµ Ð´Ð»Ñ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ð¿Ñ€ÐµÑ‚Ð°Ñ†Ð¸Ð¸

**Ð¡Ð²ÑÐ·Ð¸**:
- N:1 Ñ USERS (Ð¼Ð½Ð¾Ð³Ð¾ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² - Ð¾Ð´Ð¸Ð½ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ)
- N:1 Ñ TESTS (Ð¼Ð½Ð¾Ð³Ð¾ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² - Ð¾Ð´Ð¸Ð½ Ñ‚ÐµÑÑ‚)
- 1:N Ñ ANSWERS (Ð¾Ð´Ð¸Ð½ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ - Ð¼Ð½Ð¾Ð³Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²)

---

### 5. âœ… ANSWERS (ÐžÑ‚Ð²ÐµÑ‚Ñ‹ Ð½Ð° Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹)
**ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ**: Ð¥Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ñ… Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð½Ð° Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹

**ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸**:
- `selectedAnswer` - Ð’Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚ Ð¾Ñ‚Ð²ÐµÑ‚Ð° (1-8)
- `isCorrect` - ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð»Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚ (Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÑÐµÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸)

**Ð¡Ð²ÑÐ·Ð¸**:
- N:1 Ñ TEST_RESULTS (Ð¼Ð½Ð¾Ð³Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² - Ð¾Ð´Ð¸Ð½ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚)
- N:1 Ñ QUESTIONS (Ð¼Ð½Ð¾Ð³Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð² - Ð¾Ð´Ð¸Ð½ Ð²Ð¾Ð¿Ñ€Ð¾Ñ)

---

## ÐšÐ°ÑÐºÐ°Ð´Ð½Ð¾Ðµ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ

ÐŸÑ€Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ð¸ Ñ€Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÑÐºÐ¾Ð¹ Ð·Ð°Ð¿Ð¸ÑÐ¸ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑƒÐ´Ð°Ð»ÑÑŽÑ‚ÑÑ ÑÐ²ÑÐ·Ð°Ð½Ð½Ñ‹Ðµ:

1. **User ÑƒÐ´Ð°Ð»ÐµÐ½** â†’ Ð£Ð´Ð°Ð»ÑÑŽÑ‚ÑÑ Ð²ÑÐµ ÐµÐ³Ð¾ TEST_RESULTS
2. **Test ÑƒÐ´Ð°Ð»ÐµÐ½** â†’ Ð£Ð´Ð°Ð»ÑÑŽÑ‚ÑÑ Ð²ÑÐµ QUESTIONS Ð¸ TEST_RESULTS
3. **Test_Result ÑƒÐ´Ð°Ð»ÐµÐ½** â†’ Ð£Ð´Ð°Ð»ÑÑŽÑ‚ÑÑ Ð²ÑÐµ ANSWERS
4. **Question ÑƒÐ´Ð°Ð»ÐµÐ½** â†’ Ð£Ð´Ð°Ð»ÑÑŽÑ‚ÑÑ Ð²ÑÐµ ÑÐ²ÑÐ·Ð°Ð½Ð½Ñ‹Ðµ ANSWERS

---

## Ð˜Ð½Ð´ÐµÐºÑÑ‹ Ð¸ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ

ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÐ¾Ð·Ð´Ð°Ð½Ñ‹ Ð¸Ð½Ð´ÐµÐºÑÑ‹ Ð½Ð°:
- Primary Keys (id) - Ð²ÑÐµÑ… Ñ‚Ð°Ð±Ð»Ð¸Ñ†
- Foreign Keys (userId, testId, questionId, testResultId)
- Unique Ð¿Ð¾Ð»Ñ (email, username Ð² users)

---

## ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²

### ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð²ÑÐµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
```sql
SELECT 
    tr.id,
    t.displayName,
    tr.score,
    tr.totalQuestions,
    tr.percentage,
    tr.completedAt
FROM test_results tr
JOIN tests t ON tr.testId = t.id
WHERE tr.userId = 'user-uuid'
  AND tr.isSaved = true
ORDER BY tr.completedAt DESC;
```

### ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ Ð¿Ð¾ Ñ‚ÐµÑÑ‚Ñƒ
```sql
SELECT 
    COUNT(*) as total_attempts,
    AVG(percentage) as avg_percentage,
    MAX(score) as max_score,
    MIN(score) as min_score
FROM test_results
WHERE testId = 'test-uuid'
  AND status = 'completed'
  AND isSaved = true;
```

### ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð´ÐµÑ‚Ð°Ð»Ð¸ Ð¿Ñ€Ð¾Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ Ñ‚ÐµÑÑ‚Ð°
```sql
SELECT 
    q.questionNumber,
    a.selectedAnswer,
    q.correctAnswer,
    a.isCorrect
FROM answers a
JOIN questions q ON a.questionId = q.id
WHERE a.testResultId = 'result-uuid'
ORDER BY q.questionNumber;
```

---

## Ð Ð°Ð·Ð¼ÐµÑ€ Ð¸ Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€ÑƒÐµÐ¼Ð¾ÑÑ‚ÑŒ

**ÐŸÑ€Ð¸Ð¼ÐµÑ€Ð½Ð°Ñ Ð¾Ñ†ÐµÐ½ÐºÐ° Ñ€Ð°Ð·Ð¼ÐµÑ€Ð°**:
- 1000 Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹: ~200 KB
- 10 Ñ‚ÐµÑÑ‚Ð¾Ð² Ð¿Ð¾ 60 Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð²: ~50 KB
- 10000 Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² Ñ Ð¾Ñ‚Ð²ÐµÑ‚Ð°Ð¼Ð¸: ~5 MB

**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸**:
- Ð ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ð¾Ðµ Ñ€ÐµÐ·ÐµÑ€Ð²Ð½Ð¾Ðµ ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð‘Ð”
- Ð˜Ð½Ð´ÐµÐºÑÐ°Ñ†Ð¸Ñ Ð¿Ð¾ Ð´Ð°Ñ‚Ð°Ð¼ Ð´Ð»Ñ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð³Ð¾ Ð¿Ð¾Ð¸ÑÐºÐ°
- ÐÑ€Ñ…Ð¸Ð²Ð°Ñ†Ð¸Ñ ÑÑ‚Ð°Ñ€Ñ‹Ñ… Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² (> 1 Ð³Ð¾Ð´Ð°)
- ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° JSONB Ð¿Ð¾Ð»ÐµÐ¹

---

## ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ†ÐµÐ»Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…

```sql
-- ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°, Ñ‡Ñ‚Ð¾ Ð²ÑÐµ test_results Ð¸Ð¼ÐµÑŽÑ‚ Ð²Ð°Ð»Ð¸Ð´Ð½Ñ‹Ðµ Ñ‚ÐµÑÑ‚Ñ‹
SELECT COUNT(*) 
FROM test_results tr
LEFT JOIN tests t ON tr.testId = t.id
WHERE t.id IS NULL;

-- ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°, Ñ‡Ñ‚Ð¾ Ð²ÑÐµ answers Ð¸Ð¼ÐµÑŽÑ‚ Ð²Ð°Ð»Ð¸Ð´Ð½Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹
SELECT COUNT(*) 
FROM answers a
LEFT JOIN questions q ON a.questionId = q.id
WHERE q.id IS NULL;

-- ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚Ð¾Ð²
SELECT id, score, totalQuestions, percentage
FROM test_results
WHERE ABS(percentage - (score::float / totalQuestions * 100)) > 0.1;
```

---

**Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð³Ð¾Ñ‚Ð¾Ð²Ð° Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ðµ! ðŸŽ‰**


